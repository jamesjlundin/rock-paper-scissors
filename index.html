<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            function computerPlay() {
                let randomSelectionNumber = Math.floor( Math.random() * 3 + 1 );
                switch (randomSelectionNumber) {
                    case 1:
                        return "rock";
                        break;
                    case 2:
                        return "paper";
                        break;
                    case 3:
                        return "scissors";
                        break;
                    default:
                        break;
                }
            }
            let score = {
                player: 0,
                computer: 0
            }
            function playRound(playerSelection, computerSelection) {
                if(playerSelection == computerSelection){
                    return `Both opponents played ${playerSelection}. Game ends in a draw. Current Score is Player ${score['player']}, Computer ${score['computer']}.`;
                } else if (playerSelection == "rock" && computerSelection == "paper") { 
                    scoreBoard('computer');
                    return `Computer wins because ${computerSelection} covers ${playerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                } else if (playerSelection == "rock" && computerSelection == "scissors") { 
                    scoreBoard('player');
                    return `Player wins because ${playerSelection} breaks ${computerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                } else if (playerSelection == "paper" && computerSelection == "scissors") { 
                    scoreBoard('computer');
                    return `Computer wins because ${computerSelection} cuts ${playerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                } else if (playerSelection == "paper" && computerSelection == "rock") { 
                    scoreBoard('player');
                    return `Player wins because ${playerSelection} covers ${computerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                } else if (playerSelection == "scissors" && computerSelection == "rock") { 
                    scoreBoard('computer');
                    return `Computer wins because ${computerSelection} breaks ${playerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                } else if (playerSelection == "scissors" && computerSelection == "paper") { 
                    scoreBoard('player');
                    return `Player wins because ${playerSelection} cuts ${computerSelection}. Current Score is Player ${score['player']}, Computer ${score['computer']}.`; 
                }
            }
            function scoreBoard(winner){
                score[winner] += 1;
            }
            function whoWon(player, computer) {
                if(player > computer) {
                    return `Congrats you won the game ${player} to ${computer}!`;
                } else if (computer > player) {
                    return `Sorry you lost the game ${player} to ${computer}. Better luck next time!`;
                } else {
                    return `Lame.... the game ended in a draw :/ `;
                }
            }
            function game() {
                for(let i = 0; i < 5; i++){
                    let playerSelection = prompt('Rock, paper or scissors?');
                    let computerSelection = computerPlay();
                    console.log(playerSelection);
                    if (playerSelection.toLowerCase() == "rock" || playerSelection.toLowerCase() == "paper" || playerSelection.toLowerCase() == "scissors"){
                        console.log(playRound(playerSelection, computerSelection));
                    } else {
                        alert("You must enter rock, paper or scissors.");
                    }
                    
                }
                console.log(whoWon(score['player'], score['computer']));
            }
            game();
        </script>
    </body>
</html>